language: cpp

git:
  submodules: true
  depth: 10

sudo: false

addons:
  apt:
    sources:
     - ubuntu-toolchain-r-test
     - llvm-toolchain-precise-3.5
    packages:
     - clang-3.5

before_install:
 - export MASON_BUILD=true
 - export CXX="clang++-3.5"
 - export CC="clang-3.5"
 - python --version

install:
 - time python setup.py build

before_script:
 - python test/run_tests.py -q

script:
 - python test/visual.py -q
